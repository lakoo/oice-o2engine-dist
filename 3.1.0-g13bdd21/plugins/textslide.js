"use strict";!function(){MessageLayer.textCustomizers.slideTextCustomizer=function(e,t,i){var s="textSlideOffsetX"in e?e.textSlideOffsetX:0,d="textSlideOffsetY"in e?e.textSlideOffsetY:20,n="textSlideDuration"in e?e.textSlideDuration:700,o="textSlideFadeDuration"in e?e.textSlideFadeDuration:350,a=e.delaySpeed,r=!1;void 0===s&&(s=100),void 0===d&&(d=100),void 0===n&&(n=1e3),void 0===a&&(a=100),void 0===o&&(o=1e3),this.isAnimation=!0;var l=new KeySpline(0,0,.58,1);this.perform=function(){var e=this.timePassed/n,t=this;i.forEach(function(n,f){var u=(t.timePassed-f*a)/o;if(0>u)return void(n.styles.visible=!1);u>1&&(u=1),n.styles.visible=!0,n.styles.opacity=u,n.needRedraw=!0,u=l.get(u),u>1&&(u=1);var x=(1-u)*d,y=(1-u)*s;n.rect.y+=x,n.rect.x+=y,f===i.length-1&&u>=1&&e>=1&&(r=!0)})},this.isEnded=function(){return r}};var e=Tag.actions.position.action;$.extend(Tag.actions.position.rules,{slide:{type:"BOOLEAN"},slideoffsetx:{type:"INT"},slideoffsety:{type:"INT"},slideduration:{type:"INT"},slidefadeduration:{type:"INT"}}),Tag.actions.position.action=function(t){var i;if(i="layer"in t&&"page"in t?t.layer[t.page]:o2.currentMessageLayer,t.slide)-1==i.textCustomizers.indexOf("slideTextCustomizer")&&i.textCustomizers.push("slideTextCustomizer");else if(t.slide===!1){var s=i.textCustomizers.indexOf("slideTextCustomizer");s>=0&&i.textCustomizers.splice(s,1)}return"slideoffsetx"in t&&(i.textSlideOffsetX=t.slideoffsetx),"slideoffsety"in t&&(i.textSlideOffsetY=t.slideoffsety),"slideduration"in t&&(i.textSlideDuration=t.slideduration),"slidefadeduration"in t&&(i.textSlideFadeDuration=t.slidefadeduration),e.apply(this,arguments)}}();