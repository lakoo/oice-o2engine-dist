(function(){var t,e,n,r,i,o,a,s,l,u,c,h,p,d,f=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},g=function(t,e){function n(){this.constructor=t}for(var r in e)m.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},m={}.hasOwnProperty;$("body").on("keyup",function(t){return 73===t.which?("undefined"!=typeof s&&null!==s?s.element.parents().length:void 0)?o2.hideDebugger():o2.openDebugger():void 0}),null==o2.openDebugger&&(o2.openDebugger=function(){return p(),d(),s.refresh()}),null==o2.hideDebugger&&(o2.hideDebugger=function(){return"undefined"!=typeof s&&null!==s?l():void 0}),s=void 0,p=function(){var t,n,r,i,o,a,l,c,p,d,g,m;if(null==s){for(s=new e,$(conductor).on("ran",function(t,e){return 0!==e&&s.linesView.scrollToCurrentTag(),s.refreshButtons()}),s.refreshButtons(),a=conductor.run,conductor.run=function(){return s.checkBreakPoint(),a.apply(this,arguments)},l=conductor.wait,conductor.wait=function(){return l.apply(this,arguments),s.linesView.scrollToCurrentTag()},u(),g=function(t){var e,n,r,i,o,a,l,u,c,p;for(e=$(t.target).parents(),l=s.element[0],f.call(e,l)>=0&&(t.stopImmediatePropagation(),t.preventDefault()),a=[t.target],e.each(function(t,e){return a.push(e)}),n=function(t){return(t.scrollHeight>t.offsetHeight||t.scrollWidth>t.offsetWidth)&&"scroll"===$(t).css("overflow")},u=[],i=0,o=a.length;o>i;i++)if(r=a[i],n(r)){p=r.scrollTop-.4*t.originalEvent.wheelDeltaY,c=r.scrollLeft-.4*t.originalEvent.wheelDeltaX,h(r,c,p),$(r).trigger("scroll");break}return u},c=["mousewheel","DOMMouseScroll","wheel"],n=0,i=c.length;i>n;n++)t=c[n],$("body").bindFirst(t,g);for($(window).on("resize",function(){return s.refresh()}),m=function(t){var e,n,r;return e=s.element[0],f.call($(t.target).parents(),e)>=0||(n=null!=(r=s.selector)?r[0]:void 0,f.call($(t.target).parents(),n)>=0)?t.stopImmediatePropagation():void 0},p=["mouseup","mousemove","mousedown"],d=[],r=0,o=p.length;o>r;r++)t=p[r],d.push($("body").bindFirst(t,m));return d}},d=function(){return s.element.appendTo($("body")),scaleToFitPage($(window).width()-s.element.width(),$(window).height()),$("#main-wrapper").css("left",0)},l=function(){return s.element.animate({right:-1*s.element.width()},200,function(){return s.element.detach(),s.element.css("right","0"),scaleToFitPage(-1,-1)})},e=function(){function e(){this.element=$("<div>").addClass("debugger-view"),$("<div>").addClass("continueButton right-button").html("▶︎").attr("enabled","false").appendTo(this.element).click(function(t){return function(){return t.continueBreakPoint()}}(this)),$("<div>").addClass("layersButton right-button").html("layers").appendTo(this.element).click(function(t){return function(){return t.showLayerSelector(function(e){var r;return r=new n(e),r.show(t.element)})}}(this)),$("<div>").addClass("soundsButton right-button").html("sounds").appendTo(this.element).click(function(t){return function(){return t.showSoundSelector(function(e){var n;return n=new a(e),n.show(t.element)})}}(this)),$("<div>").addClass("callStackButton right-button").html("call").appendTo(this.element).click(function(t){return function(){return t.showCallStack(function(e){var n;return console.log(arguments),n=new i(e.file),n.show(t.element),n.highlightLine(e.originalLineNumber)})}}(this)),$("<div>").addClass("macroStackButton right-button").html("macro").appendTo(this.element).click(function(t){return function(){return t.showMacroStack(function(e){var n;return n=new i(e.file),n.show(t.element),n.highlightLine(e.originalLineNumber)})}}(this)),$("<div>").addClass("profileButton right-button").html("Profile").appendTo(this.element).click(function(t){return function(){return t.profiler?(t.profiler.stop(),$(".profileButton").removeClass("activated"),t.profiler.records.length?t.profiler.show(t.element,function(){return t.profiler=null}):t.profiler=null):(t.profiler=new o,t.profiler.start(),$(".profileButton").addClass("activated"))}}(this)),this.visible=!0,this.linesView=new t,this.linesView.element.appendTo(this.element),this.breakPoints={},this.breakPointStatus={paused:!1,tag:void 0}}return e.prototype.refresh=function(){return $(".lines-view").each(function(){var t;return null!=(t=$(this).data("controller"))?t.refresh():void 0})},e.prototype.addBreakPoint=function(t,e){var n;return null==(n=this.breakPoints)[t]&&(n[t]=[]),this.breakPointExist(t,e)||this.breakPoints[t].push(e),this.refresh()},e.prototype.removeBreakPoint=function(t,e){var n;if(this.breakPointExist(t,e))return n=this.breakPoints[t].indexOf(e),delete this.breakPoints[t][n],this.refresh()},e.prototype.breakPointExist=function(t,e){return t instanceof Tag?t.file?this.breakPointExist(t.file.filename,t.originalLineNumber):!1:f.call(this.breakPointsInFile(t),e)>=0},e.prototype.breakPointsInFile=function(t){return this.breakPoints[t]||[]},e.prototype.checkBreakPoint=function(){var t,e;return this.refreshButtons(),t=conductor.getNextTag(),this.breakPointExist(t)&&"wait_breakpoint"!==conductor.currentTag.tagName?(e=new Tag("wait_breakpoint"),e.file=t.file,e.originalLineNumber=t.originalLineNumber,[].push.call(conductor.queue,e),this.breakPointStatus={paused:!0,tag:t},$(".continueButton").attr("enabled","true")):void 0},e.prototype.isPausedAtTag=function(t){return this.breakPointStatus.paused&&this.breakPointStatus.tag===t},Tag.actions.wait_breakpoint=new TagAction({action:function(){return 1}}),e.prototype.continueBreakPoint=function(){return this.breakPointStatus.paused?($(".continueButton").attr("enabled","false"),this.breakPointStatus={paused:!1,tag:void 0},conductor.trigger("wait_breakpoint")):void 0},e.prototype.refreshButtons=function(){return $(".macroStackButton").attr("enabled",conductor.macroStack.length>0),$(".callStackButton").attr("enabled",conductor.callStack.length>0)},e.prototype.blurBackground=function(){return this.element.css({"-webkit-filter":"blur(3px) brightness(0.3)","pointer-events":"none"})},e.prototype.unblurBackground=function(){return this.element.css({"-webkit-filter":"","pointer-events":"auto"})},e.prototype.showLayerSelector=function(t){var e,n,r,i,o,a,s,l;for(this.blurBackground(),this.selector=$("<div>").addClass("selector"),e=function(e){return function(n){var r;return(r=c(n))?$("<div>").html(r.page+" / "+r.layer).addClass("choice").click(function(){return e.unblurBackground(),t(n),e.selector.remove(),delete e.selector}).appendTo(e.selector):void 0}}(this),s=o2.allForeLayers(),n=0,o=s.length;o>n;n++)i=s[n],e(i);for(l=o2.allBackLayers(),r=0,a=l.length;a>r;r++)i=l[r],e(i);return this.selector.appendTo($("body"))},e.prototype.showSoundSelector=function(t){var e,n,r,i,o,a;for(this.blurBackground(),this.selector=$("<div>").addClass("selector"),e=function(e){return function(n,r){return"number"==typeof r&&(r="se"+r),$("<div>").html(r).addClass("choice").click(function(){return e.unblurBackground(),t(n),e.selector.remove(),delete e.selector}).appendTo(e.selector)}}(this),e(o2.bgm,"bgm"),o=o2.se,n=r=0,i=o.length;i>r;n=++r)a=o[n],e(a,n);return this.selector.appendTo($("body"))},e.prototype.showCallStack=function(t){var e,n,r,i,o;for(this.blurBackground(),this.selector=$("<div>").addClass("selector"),e=function(e){return function(n){var r,i;return r=n.originalLineNumber||n.line,i=n.file+":"+(r-1)+" : call",$("<div>").addClass("choice").html(i).click(function(){return e.unblurBackground(),e.selector.remove(),delete e.selector,$.when(n.restore()).then(function(e){return t(e)})}).appendTo(e.selector)}}(this),i=conductor.callStack,n=0,r=i.length;r>n;n++)o=i[n],e(o);return this.selector.appendTo($("body"))},e.prototype.showMacroStack=function(t){var e,n,r,i,o;for(this.blurBackground(),this.selector=$("<div>").addClass("selector"),e=function(e){return function(n){var r,i;return r=n.returnTag.originalLineNumber||n.returnTag.line,i=n.returnTag.file.filename+" : "+(r-1)+" : "+n.definition.name,$("<div>").addClass("choice").html(i).click(function(){return e.unblurBackground(),e.selector.remove(),delete e.selector,$.when(n.returnTag.restore()).then(function(e){var n;return n=e.file.lines[e.lineNumber-1],t(n)})}).appendTo(e.selector)}}(this),o=conductor.macroStack,n=0,r=o.length;r>n;n++)i=o[n],e(i);return this.selector.appendTo($("body"))},e}(),r=function(){function t(){this.lineHeight=14,this.element=$("<div>").addClass("lines-view"),this.element.data("controller",this),this.content=$("<div>").addClass("content").on("scroll",function(t){return function(){return t.refresh()}}(this)).appendTo(this.element),this.title=$("<div>").addClass("title-bar").appendTo(this.element),this.heightPlaceHolder=$("<div>").css({top:0,height:0,width:1,left:0}).appendTo(this.content),this.currentFilename=void 0}var e,n;return t.prototype.setFile=function(t){return t.filename!==this.currentFilename?(this.currentFilename=t.filename,this.file=t,this.title.html(this.currentFilename),this.refreshHeight(),this.refresh()):void 0},t.prototype.refreshHeight=function(){var t,e;return t=this.file.lines[this.file.lines.length-1].originalLineNumber,e=(t+1)*this.lineHeight,this.heightPlaceHolder.height(e)},t.prototype.refresh=function(){var t,r,o,a,l,u;return this.refreshHeight(),u=Math.floor(this.content.scrollTop()/this.lineHeight)+1,l=Math.ceil((this.content.scrollTop()+this.content[0].offsetHeight)/this.lineHeight),this.content.html(""),this.content.append(this.heightPlaceHolder),a=function(t){return function(e){return $("<div>").attr("line",e).css({top:(e-1)*t.lineHeight}).addClass("line").append($("<span>").addClass("line-number").html(e).click(function(n){return n.stopImmediatePropagation(),s.breakPointExist(t.currentFilename,e)?s.removeBreakPoint(t.currentFilename,e):s.addBreakPoint(t.currentFilename,e)}))}}(this),r=function(t){return function(t,e){var r;return r=$("<span>").html(n(t)).attr({line:t.lineNumber}).addClass("tag"),s.breakPointStatus.paused?s.isPausedAtTag(t)&&r.css({"text-shadow":"green 0px 0px 5px"}):t===conductor.currentTag&&r.css({color:"red"}),r.appendTo(e),conductor.isMacro(t)?r.css({cursor:"pointer","text-decoration":"underline"}).click(function(){var e;return e=conductor.macros[t.tagName],$.when(e.startTag.restore()).done(function(t){var e;return e=new i(t.file),e.show(s.element),e.highlightLine(t.originalLineNumber)})}):void 0}}(this),t=function(t){return $("<div>").addClass("breakPoint").appendTo(t)},(o=e(this.file,u,l))(function(e){return function(n,i){var o,l,u,c;for(u=a(i),o=0,l=n.length;l>o;o++)c=n[o],r(c,u);return s.breakPointExist(e.currentFilename,i)&&t(u),e.content.append(u)}}(this))},e=function(t,e,n){var r;return null==e&&(e=0),null==n&&(n=1/0),r=[],function(i){var o,a,s,l,u,c,h;for(u=t.lines,c=[],o=a=0,s=u.length;s>a;o=++a)if(h=u[o],!(h.originalLineNumber<e)){if(h.originalLineNumber>n)break;r.push(h),l=t.lines[o+1],l&&l.originalLineNumber===h.originalLineNumber?c.push(void 0):(i(r,h.originalLineNumber),c.push(r=[]))}return c}},n=function(t){var e,n;switch(t.tagName){case"text":return t.args.text;case"label":return null!=t.args.caption?"*"+t.args.name+" | "+t.args.caption:"*"+t.args.name;default:return"["+t.tagName+" "+function(){var r,i;r=t.args,i=[];for(e in r)n=r[e],i.push(e+'="'+n+'"');return i}().join(" ")+"]"}},t.prototype.scrollToOffset=function(t,e){return h(this.content[0],t,e)},t.prototype.scrollToTag=function(t){var e,n;return n=(t.originalLineNumber-1)*this.lineHeight,n-=(this.content[0].offsetHeight-this.lineHeight)/2,e=function(e){return function(){var n,r,i,o,a;return(a=e.content.find("span[line="+t.lineNumber+"]")[0])&&(n=$(a).siblings(":first")[0])?(r=n.getBoundingClientRect().left,i=a.getBoundingClientRect(),o=i.left,o-r<e.content[0].offsetWidth?0:o-r-(e.content[0].offsetWidth-i.width)/2):0}}(this)(),this.scrollToOffset(e,n),this.currentFilename!==t.file.filename?this.setFile(t.file):this.refresh()},t}(),t=function(t){function e(){e.__super__.constructor.apply(this,arguments)}return g(e,t),e.prototype.refresh=function(){var t;return t=currentConductor.currentTag,t.file||"wait_breakpoint"===t.tagName?this.file&&t.file.filename===this.currentFilename?e.__super__.refresh.apply(this,arguments):this.setFile(t.file):void 0},e.prototype.scrollToCurrentTag=function(){var t;return t=currentConductor.currentTag,t.file?this.scrollToTag(t):void 0},e}(r),i=function(t){function e(t){e.__super__.constructor.apply(this,arguments),this.element.addClass("overlay-lines-view"),this.backgroundWrapper=$("<div>").addClass("overlay-background").click(function(t){return function(e){return $(e.target).is(t.backgroundWrapper)?t.close():void 0}}(this)),this.setFile(t),this.highlightingLineNumber=-1}return g(e,t),e.prototype.show=function(t,e){return this.callback=e,$("<div>").html("Close").addClass("close-button").click(function(t){return function(){return t.close()}}(this)).appendTo(this.element),this.element.appendTo(this.backgroundWrapper),this.backgroundWrapper.appendTo(t),this.refresh()},e.prototype.close=function(){return this.backgroundWrapper.animate({opacity:0,width:0,height:0,left:"50%",top:"50%"},200,function(t){return function(){return t.backgroundWrapper.remove(),t.element.empty(),t.element.remove(),"function"==typeof t.callback?t.callback():void 0}}(this))},e.prototype.refresh=function(){return e.__super__.refresh.apply(this,arguments),-1!==this.highlightingLineNumber?this.content.find("div[line="+this.highlightingLineNumber+"]").addClass("highlight"):void 0},e.prototype.highlightLine=function(t){var e;return e=(t-1)*this.lineHeight,e-=(this.content[0].offsetHeight-this.lineHeight)/2,this.highlightingLineNumber=t,this.scrollToOffset(0,e),this.refresh()},e}(r),n=function(){function t(t){this.layer=t,this.element=$("<div>").addClass("layer-inspector")}return t.prototype.show=function(t){var e,n,r,i,o;return t.append(this.element),this.element.append(this.layer.canvas),$(this.layer.canvas).addClass("inspected-layer"),$("<div>").html("close").addClass("close").click(function(t){return function(){return t.close()}}(this)).appendTo(this.element),n=$("<div>").appendTo(this.element),e=function(t){return function(t,e,r,i){var o,a,s;return null==i&&(i={type:"text"}),s=$("<span>").html(t),a=$("<input>").attr(i).val(e).on("keyup change input",function(){return r(a.val()),renderer.animator.requestFrame()}),o=$("<div>").css({"float":"left",width:"30%"}).append(s).append(a).appendTo(n)}}(this),e("x",this.layer.rect.x,function(t){return function(e){return t.layer.rect.x=Number(e)}}(this)),e("y",this.layer.rect.y,function(t){return function(e){return t.layer.rect.y=Number(e)}}(this)),e("height",this.layer.rect.height,function(t){return function(e){return t.layer.rect.height=Number(e)}}(this)),e("width",this.layer.rect.width,function(t){return function(e){return t.layer.rect.width=Number(e)}}(this)),e("opacity",this.layer.opacity,function(t){return function(e){return t.layer.opacity=Number(e)}}(this),{type:"range",min:0,max:1,step:.01}),e("rotation",this.layer.rotation,function(t){return function(e){return t.layer.rotation=parseFloat(e)}}(this),{type:"range",min:0,step:.01,max:2*Math.PI}),e("scaleX",this.layer.scaleX,function(t){return function(e){return t.layer.scaleX=parseFloat(e)}}(this),{type:"range",min:.05,max:5,step:.01}),e("scaleY",this.layer.scaleY,function(t){return function(e){return t.layer.scaleY=parseFloat(e)}}(this),{type:"range",min:.05,max:5,step:.01}),e("originX",this.layer.transformOrigin.x,function(t){return function(e){return t.layer.transformOrigin.x=parseFloat(e)}}(this)),e("originY",this.layer.transformOrigin.y,function(t){return function(e){return t.layer.transformOrigin.t=parseFloat(e)}}(this)),n.append($("<div>").css("clear","both")),r=this.element.height()-n.height(),o=this.element.width(),i=Math.min(o/this.layer.canvas.width,r/this.layer.canvas.height),$(this.layer.canvas).css({transform:"scale("+i+")","transform-origin":"0 0"}),n.css({position:"absolute",top:$(this.layer.canvas).height()*i})},t.prototype.close=function(){return this.element.animate({"margin-left":this.element.width()},200,function(t){return function(){return $(t.layer.canvas).css("transform",""),t.element.empty(),t.element.remove()}}(this))},t}(),a=function(){function t(t){this.sound=t,this.element=$("<div>").addClass("sound-inspector"),this.content=$("<div>").appendTo(this.element),this.backgroundWrapper=$("<div>").addClass("overlay-background").click(function(t){return function(e){return $(e.target).is(t.backgroundWrapper)?t.close():void 0}}(this)).append(this.element),this.timer=void 0}return t.prototype.infoString=function(){return"<table>\n<tr><td>file</td><td> "+this.sound.filepath+"</td></tr>\n<tr><td>actual path</td><td> "+this.sound.audio.src+"</td></tr>\n<tr><td>looping</td><td> "+(this.sound.loop?"YES":"NO")+"</td></tr>\n<tr><td>volume</td><td> "+this.sound.volume+"</td></tr>\n<tr><td>actual volume</td><td> "+this.sound.volume*this.sound.volumePercentage+"</td></tr>\n\n<tr><td>fading</td><td> "+this.fadeString()+"</td></tr>\n\n<tr><td>se gVolume</td><td> "+sf.__system.seGVolume+"</td></tr>\n<tr><td>bgm gVolume</td><td> "+sf.__system.bgmGVolume+"</td></tr>\n</table>"},t.prototype.fadeString=function(){return this.sound.fadeStatus?"\nfrom volume : "+this.sound.fadeStatus.fromVolume+"\nto volume : "+this.sound.fadeStatus.toVolume+"\nduration : "+this.sound.fadeStatus.duration:"NO"},t.prototype.show=function(t){return t.append(this.backgroundWrapper),this.timer=setInterval(function(t){return function(){return t.content.html(t.infoString())}}(this)),$("<table>").append($("<tr>").append($("<td>").html("Set volume:")).append($("<td>").append($("<input>").attr({type:"range",min:0,max:1,step:.01,value:this.sound.volume}).on("change",function(t){return function(e){return t.sound.setVolume($(e.target).val())}}(this))))).appendTo(this.element)},t.prototype.close=function(){return clearInterval(this.timer),this.element.animate({opacity:0,width:0,height:0,left:"50%",top:"50%"},200,function(t){return function(){return t.element.empty(),t.element.remove(),t.backgroundWrapper.remove()}}(this))},t}(),o=function(){function t(){this.element=$("<div>").addClass("profile-view"),this.backgroundWrapper=$("<div>").addClass("overlay-background").click(function(t){return function(e){return $(e.target).is(t.backgroundWrapper)?t.close():void 0}}(this)),this.records=[],this.currentRecord=null,this.showPercentage=!0,this.showCombined=!0}var e;return t.prototype.show=function(t,e){var n;return this.callback=e,n=this,$("<span>").append($("<input>").attr({type:"checkbox",checked:!0}).on("change",function(){return n.showPercentage=$(this).is(":checked"),n.render()})).append($("<span>").html("Percentage")).appendTo(this.element),$("<span>").append($("<input>").attr({type:"checkbox",checked:!0}).on("change",function(){return n.showCombined=$(this).is(":checked"),n.render()})).append($("<span>").html("Combined")).appendTo(this.element),this.render(),$("<div>").html("Close").addClass("close").click(function(t){return function(){return t.close()}}(this)).appendTo(this.element),this.element.appendTo(this.backgroundWrapper),this.backgroundWrapper.appendTo(t)},t.prototype.close=function(){return this.backgroundWrapper.animate({left:"100%"},200,function(t){return function(){return t.backgroundWrapper.remove(),t.element.empty(),t.element.remove(),"function"==typeof t.callback?t.callback():void 0}}(this))},t.prototype.render=function(){var t,e,n,r,i,o,a,s,l;for(this.element.find("table").remove(),s=$("<table>"),this.element.append(s),t=this.getCalculatedRecords(),o=[],n=0,r=t.length;r>n;n++)i=t[n],a=$("<tr>"),l=$("<td>").html(i.tagName),i.filename&&i.line&&l.append($("<span>").css("float","left").html("("+i.filename+":"+i.line+")")),a.append(l),e=$("<td>").css("position","relative").append($("<span>").addClass("duration").html(this.showPercentage?100*i.duration+"%":i.duration+"ms")),this.showPercentage&&e.prepend($("<div>").css({position:"absolute",width:100*i.duration+"%",height:"20px","float":"left",background:"#3e73b6",color:"white","white-space":"nowrap",overflow:"hidden"}).html(100*i.duration+"%")),a.append(e),o.push(s.append(a));return o},t.prototype.getCalculatedRecords=function(){var t,e,n,r,i,o,a,s;if(a=clone(this.records),this.showCombined){for(t={},o=this.records,e=0,n=o.length;n>e;e++)i=o[e],null==t[r=i.tagName]&&(t[r]=0),t[i.tagName]+=i.duration;a=Object.keys(t).map(function(e){return{tagName:e,duration:t[e]}}).sort(function(t,e){return e.duration-t.duration})}return s=a.map(function(t){return t.duration}).reduce(function(t,e){return t+e}),this.showPercentage?a.forEach(function(t){return t.duration=t.duration/s}):a.unshift({tagName:"Total",duration:s}),a},e=null,t.prototype.start=function(){var t;return this.records=[],t=this,e=Tag.prototype.run,Tag.prototype.run=function(){var n,r,i;return this.conductor!==conductor?e.apply(this,arguments):(t.tagStart(this),r=this,i=e.apply(this,arguments),n=Conductor.prototype.oneShot,Conductor.prototype.oneShot=function(){return this===conductor&&(Conductor.prototype.oneShot=n,t.tagEnd(r)),n.apply(this,arguments)},i)}},t.prototype.stop=function(){return Tag.prototype.run=e},t.prototype.tagStart=function(t){var e;if(!this.currentRecord)return this.currentRecord={tagName:t.tagName,line:t.originalLineNumber||t.lineNumber||t.line,filename:null!=(e=t.file)?e.filename:void 0,start:Date.now(),duration:0}},t.prototype.tagEnd=function(t){return this.currentRecord&&this.currentRecord.tagName===t.tagName?(this.currentRecord.duration=Date.now()-this.currentRecord.start,this.records.push(this.currentRecord),this.currentRecord=null):void 0},t}(),u=function(){return $("<style>").html("@-webkit-keyframes fromright{\n  from {-webkit-transform: translateX(500px);}\n  to   {-webkit-transform: none;}\n}\n.debugger-view{\n  width      : 500px;\n  height     : 100%;\n  position   : absolute;\n  top        : 0;\n  right      : 0;\n  background : white;\n  -webkit-animation: fromright 0.3s;\n  box-shadow: 0 0 50px black;\n  font-family: Helvetica, Arial;\n  background : #eee;\n  -webkit-transition : -webkit-filter 0.3s linear;\n}\n\n.lines-view{\n  width    : 450px;\n  height   : 100%;\n  position : absolute;\n  left     : 0;\n  top      : 0;\n  background : white;\n}\n.lines-view .title-bar{\n  position : 'absolute';\n  left     : 0;\n  top      : 0;\n  width    : 100%;\n  height   : 30px;\n  background: #f7f7f7;\n  background: -moz-linear-gradient(top, #f7f7f7 0%, #c9c9c9 5%, #727272 100%);\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f7f7f7), color-stop(5%,#c9c9c9), color-stop(100%,#727272));\n  text-align: center;\n  font-size: 17px;\n  box-shadow: 0 1px 5px -2px black;\n  line-height: 30px;\n  color: white;\n  text-shadow: 0px 1px 0px black;\n}\n.lines-view .content{\n  position : absolute;\n  left     : 0;\n  top      : 30px;\n  bottom   : 0;\n  width    : 100%;\n  overflow : scroll;\n  font-family: menlo,serif;\n  font-size: 11px;\n}\n.lines-view .line{\n  position : absolute;\n  left     : 0;\n  margin   : 0;\n  padding  : 0;\n  overflow : hidden;\n  white-space : nowrap;\n}\n.lines-view .line-number{\n    background  : #d8d8d8;\n    font-size   : 12px;\n    min-width   : 25px;\n    text-align  : right;\n    display     : inline-block;\n    cursor      : pointer;\n    box-shadow: inset 0 -1px white;\n}\n@-webkit-keyframes highlight {\n  0%   { background-color : #DAB0B0; }\n  50%  { background-color : #DF5555; }\n  100% { background-color : #DAB0B0; }\n}\n.line.highlight .line-number{\n  background-color : #F89191;\n  -webkit-animation : highlight 1s infinite;\n}\n\n.lines-view .tag{\n  line-height : "+s.linesView.lineHeight+"px;\n  white-space : nowrap;\n}\n.overlay-background{\n  position : absolute;\n  left : 0;\n  top : 0;\n  width : 100%;\n  height : 100%;\n  background : rgba(0,0,0,0.3);\n}\n.lines-view.overlay-lines-view {\n  font-family: Helvetica, Arial;\n  top : 25px;\n  bottom : 25px;\n  right : 25px;\n  left : auto;\n  height : auto;\n  -webkit-animation: popup 0.3s;\n  border-radius: 5px;\n  overflow: hidden;\n  box-shadow: 0 0 40px 0px #000;\n}\n.overlay-lines-view .close-button{\n  position: absolute;\n  right: 0px;\n  top: 0px;\n  width: 50px;\n  height: 30px;\n  border: solid rgb(213, 213, 213);\n  border-width: 0 0 0 1px;\n  color: black;\n  text-shadow: 0 1px 1px white;\n  line-height: 30px;\n  text-align: center;\n  font-size: 12px;\n  cursor : pointer;\n}\n\n.breakPoint{\n  width : 5px;\n  height : "+(s.linesView.lineHeight-1)+'px;\n  background : #007bff;\n  overflow : visible;\n  position : absolute;\n  left : 0;\n  top : 0;\n  pointer-events : none;\n}\n.breakPoint:after{\n  content:"";\n  display : block;\n  width: 0px;\n  height: 0px;\n  border-style: solid;\n  border-width: '+(s.linesView.lineHeight-1)/2+"px 0 "+(s.linesView.lineHeight-1)/2+"px 7px;\n  border-color: transparent transparent transparent #007bff;\n  margin-left : 5px;\n}\n\n.right-button{\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  text-align: center;\n  line-height: 50px;\n  font-size: 11px;\n  color: #222;\n  border: solid;\n  border-width: 0 0 1px 0;\n  border-color: #aaa;\n  background: -webkit-gradient(linear, left top, left bottom, color-stop(0%,#efefef), color-stop(3%,#e2e2e2), color-stop(98%,#afafaf), color-stop(100%,#9e9e9e));\n  text-shadow: 0 1px 1px #fff;\n  cursor: pointer;\n}\n.right-button[enabled=false]{\n  opacity : 0.2;\n  cursor: default;\n  pointer-events : none;\n}\n.continueButton{\n  right : 0;\n  top : 0;\n  font-size: 14px;\n}\n.callStackButton{\n  right : 0;\n  top : 50px;\n}\n.macroStackButton{\n  right : 0;\n  top : 100px;\n}\n.profileButton{\n  right : 0;\n  top : 150px;\n}\n.profileButton.activated{\n  color : red;\n}\n\n.layersButton{\n  right : 0;\n  bottom : 0;\n}\n\n.soundsButton{\n  right : 0;\n  bottom : 50px;\n}\n\n@-webkit-keyframes popup{\n  0%   {-webkit-transform: scale(0); opacity:0;}\n  80%  {-webkit-transform: scale(1.05); opacity:1;}\n  100% {-webkit-transform: scale(1);}\n}\n.selector{\n  position   : absolute;\n  width      : 400px;\n  right      : 50px;\n  bottom     : 50px;\n  top        : 50px;\n  boxShadow  : 0px 0px 15px #000;\n  background : white;\n  -webkit-animation: popup 0.2s;\n  border-radius : 5px;\n}\n.selector .choice{\n  cursor : pointer;\n  border-radius : 5px;\n}\n.selector .choice:hover{\n  background : #eee;\n}\n\n.sound-inspector{\n  width      : 400px;\n  height     : 500px;\n  position   : absolute;\n  left       : 50px;\n  top        : 50px;\n  background : white;\n  -webkit-animation: popup 0.2s;\n  border-radius : 5px;\n  box-shadow  : 0px 0px 30px #000;\n}\ntable {\n  width : 100%;\n}\ntable td:first-child{\n  text-align : right;\n  width : 50%;\n}\ntable td{\n  max-width : 0;\n  word-break: break-all;\n}\ntable tr:nth-child(even){\n  background : rgb(238, 238, 238);\n}\n\n.layer-inspector{\n  width      : 100%;\n  height     : 100%;\n  position   : absolute;\n  left       : 0;\n  top        : 0;\n  background : white;\n  -webkit-animation: fromright 0.3s;\n  box-shadow  : 0px 0px 30px #000;\n}\n.layer-inspector .close{\n  width      : 50px;\n  height     : 30px;\n  position   : absolute;\n  right      : 0;\n  top        : 0;\n  background : -moz-linear-gradient(top, #f7f7f7 0%, #c9c9c9 5%, #727272 100%);\n  background : -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f7f7f7), color-stop(5%,#c9c9c9), color-stop(100%,#727272));\n  border-radius : 0 0 0 5px;\n  color: black;\n  text-shadow: 0 1px 1px white;\n  box-shadow: 0 0 5px black;\n  line-height: 30px;\n  text-align: center;\n  font-size: 12px;\n  cursor : pointer;\n}\n\n.profile-view{\n  width      : 100%;\n  height     : 100%;\n  position   : absolute;\n  left       : 0;\n  top        : 0;\n  background : white;\n  -webkit-animation: fromright 0.3s;\n  box-shadow  : 0px 0px 30px #000;\n  overflow : scroll;\n}\n.profile-view .close{\n  width      : 50px;\n  height     : 30px;\n  position   : absolute;\n  right      : 0;\n  top        : 0;\n  background : -moz-linear-gradient(top, #f7f7f7 0%, #c9c9c9 5%, #727272 100%);\n  background : -webkit-gradient(linear, left top, left bottom, color-stop(0%,#f7f7f7), color-stop(5%,#c9c9c9), color-stop(100%,#727272));\n  border-radius : 0 0 0 5px;\n  color: black;\n  text-shadow: 0 1px 1px white;\n  box-shadow: 0 0 5px black;\n  line-height: 30px;\n  text-align: center;\n  font-size: 12px;\n  cursor : pointer;\n}").appendTo($("head"))},c=function(t){var e,n,r,i,o,a,s,l,u,c,h,p,d,f;if(o2.foreLayers.baseLayer===t)return{page:"fore",layer:"base"};for(c=o2.foreLayers.imageLayers,e=n=0,o=c.length;o>n;e=++n)if(f=c[e],t===f)return{page:"fore",layer:"image"+e};if(o2.backLayers.baseLayer===t)return{page:"back",layer:"base"};for(h=o2.backLayers.imageLayers,e=r=0,a=h.length;a>r;e=++r)if(f=h[e],t===f)return{page:"back",layer:"image"+e};for(p=o2.foreLayers.messageLayers,e=i=0,s=p.length;s>i;e=++i)if(f=p[e],t===f)return{page:"fore",layer:"message"+e};for(d=o2.backLayers.messageLayers,e=u=0,l=d.length;l>u;e=++u)if(f=d[e],t===f)return{page:"back",layer:"message"+e}},h=function(t,e,n){return n=Math.max(0,Math.min(n,t.scrollHeight-t.clientHeight)),e=Math.max(0,Math.min(e,t.scrollWidth-t.clientWidth)),t.scrollTop=n,t.scrollLeft=e}}).call(this);